var NewADsShowSwitch=function(){var n=["yl","codo","dnf","x52","cf","bns","nz","speed","x5","smoba","mpt2.tgideas","speedm","castleclash","nba2k2"],e=location.protocol,a=[e+"//cf.qq.com/m/web201707/index.htm",e+"//codol.qq.com/main.shtml",e+"//yl.qq.com/main.shtml",e+"//dnf.qq.com/main.shtml",e+"//dnf.qq.com/maintest.shtml",e+"//cf.qq.com/maintest_idata.shtml",e+"//cf.qq.com/main.shtml",e+"//cf.qq.com/act/a20160520ntcls/index.htm",e+"//cf.qq.com/act/a20160520ntcls/index_tyf.htm",e+"//codol.qq.com/main_m.shtml",e+"//nz.qq.com/main.shtml",e+"//bns.qq.com/m/",e+"//speed.qq.com/home/client_activity.html",e+"//bns.qq.com/index.shtml",e+"//bns.qq.com/main.shtml",e+"//bns.qq.com/cp/a20160511bnsyx/index.htm",e+"//bns.qq.com/act/a20161104community/index_bk.html",e+"//bns.qq.com/act/a20161104community/index.html",e+"//speed.qq.com/home/client_gg_2015.html",e+"//speed.qq.com/cp/a20190102live/ates.shtml",e+"//speed.qq.com/home/client_2012.shtml",e+"//speed.qq.com/home/client_newsbox.htm",e+"//x5.qq.com/main.shtml",e+"//nz.qq.com/m/index.shtml",e+"//nz.qq.com/m/",e+"//nz.qq.com/client/ntcls/index.shtml",e+"//nz.qq.com/act/a20170518idataroll/index.shtml",e+"//nz.qq.com/client/ntcls/community.shtml",e+"//5s.qq.com/main.shtml",e+"//5s.qq.com/cp/a20161226gift/index.htm",e+"//5s.qq.com/m/",e+"//5s.qq.com/m/index.shtml",e+"//pvp.qq.com/ingame/cultural/index.shtml",e+"//pvp.qq.com/ingame/cultural/index_2.shtml",e+"//game.open.qq.com/",e+"//nba2k2.qq.com/main.html",e+"//speed.qq.com/act/a20180615rongyao/index.htm"],d=function(){var e=location.hostname.replace(".qq.com","");return e="game.open"==(e="pvp"==(e="mho"==(e="codol"==(e="eafifa"==(e="5s"==(e="sm"==e?"smite":e)?"x52":e)?"fifa":e)?"codo":e)?"mh":e)?"smoba":e)?"castleclash":e},s=function(e){var e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=document.cookie.match(e))?unescape(e[2]):""};return{isGrayServiceFunc:function(){var e,t=d();for(e in n)if(!isNaN(e)&&n[e]==t)return!0;return!1},isGrayUrlFunc:function(){var e=d();if(0<="mpt2.tgideas".indexOf(e))return!0;var t,n=location.href.indexOf("?");for(n in t=(t=-1!=n?location.href.slice(0,n):location.href).replace(/(#*$)/g,""),a)if(!isNaN(n)&&a[n]==t)return!0;return!1},doReport:function(e,t,n,a,i,o,r){o="//idata.game.qq.com/tcms/delivery_front/report?"+["uin="+(s("openid")||(s("pt2gguin")?s("pt2gguin").substr(1).replace(/\b(0+)/gi,""):0)),"bannerid="+t,"taskid="+n,"click_type="+a,"gameid="+d(),"recommend_id="+(o||""),"area="+(r||"")].join("&"),r=new Image;r.src=o,r.onload=function(){}}}}(),start,AdsShowEngine,TGAdsShow;NewADsShowSwitch.isGrayServiceFunc()&&NewADsShowSwitch.isGrayUrlFunc()?(start=new Date,AdsShowEngine=function(){var p=document,N=+new Date,I="",J=0,e=navigator.userAgent.toLowerCase(),g=-1!=e.indexOf("msie"),P=(e.indexOf("opera"),"data-tgadieg"),x="data-TGAD",O="data-tgad",e=location.protocol,C=0,R=0,M=[],U=e+"//apps.game.qq.com/client_pop/recommendReport",F=e+"//ossweb-img.qq.com/images/clientpop/idata_ad/idata_ad_",l=e+"//idata.game.qq.com/outer/ad_recommend_list",a=e+"//idata.game.qq.com/outer/admore_recommend",B=e+"//idata.game.qq.com/outer/ad_log_report",t=e+"//ossweb-img.qq.com/images/clientpop/idata_ad/idata_adm_";objPageAdElements={},objAdElementMap={},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n});var n=function(e){var e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=p.cookie.match(e))?unescape(e[2]):""};function H(e){for(var t,n=p.getElementsByTagName("script"),a=n.length,i=null;a--;)(i=n[a]).src!=e||(t=i.parentNode)&&1===t.nodeType&&t.removeChild(i)}var u=function(e,t,n){var a,i,o,r,d=p.createElement("script"),s=(p.getElementsByTagName("head")[0],bFn2=!0),c=p.getElementsByTagName("script"),l=c.length,m=!1;for(null!=t&&void 0!==t||(s=!1),null!=n&&void 0!==n||(bFn2=!1),d.src=e,d.setAttribute("charset","UTF-8"),d.onloadDone=!1,g?(i="readystatechange",o=function(e){"loaded"!==d.readyState&&"complete"!==d.readyState||d.onloadDone||(d.onloadDone=!0,s&&t(),d.onreadystatechange=null)},(a=d).addEventListener?a.addEventListener(i,o,r):a.attachEvent&&a.attachEvent("on"+i,o),"loaded"===d.readyState&&null==d.nextSibling&&bFn2&&n()):(d.onload=function(){d.onloadDone=!0,s&&t(),d.onload=null},d.onerror=function(){bFn2&&n(),d.onerror=null});l--;)if(c[l].src===e){t(),m=!0;break}m||p.documentElement.firstChild.insertBefore(d,null)},G=function(e,t,n){var a=p.createElement("script");a.type="text/javascript",n&&a.setAttribute("charset",n),a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||((a.onreadystatechange=null)==t&&void 0===t||t(),p.getElementsByTagName("head")[0].removeChild(this))}:a.onload=function(){null==t&&void 0===t||t(),p.getElementsByTagName("head")[0].removeChild(this)},a.src=e,p.getElementsByTagName("head")[0].appendChild(a)},h=function(e){try{return new Function("return "+e)()}catch(t){return!1}},s=function(d,s,c,l,m,p){var n,e;0!=m&&0<s.length?(n=t+l+".js?v="+N,e=function(){setTimeout(function(){H(n)},250);var e,o,t,r=h("iDataNew"+l);r?(e=s.join(","),o=a+"?channel_id="+l+"&uin="+m+"&appid="+I+"&pos_id="+e+"&channel=adrecommend&_="+N,t=function(){setTimeout(function(){H(o)},250);var e,t=h("RES_OBJ_ADM"+l),n=[];if(!1!==t&&0==t.errcode){for(var a=s.length,i=0;i<a;i++)t.data[s[i]]==undefined?(n.push(s[i]),s.splice(i,1),i--,a--):(objPageAdElements[l][s[i]].adType="10",e=t.data[s[i]].material_id,(e=r[e])==undefined?(n.push(s[i]),s.splice(i,1),i--,a--):(e.recommendId=t.data[s[i]].recommend_id,e.algo=t.data[s[i]].algo_type,e.taskId=t.data[s[i]].task_id,e.taskPid=t.data[s[i]].task_pid,e.setId=t.data[s[i]].set_id,e.materialId=t.data[s[i]].material_id,e.materialPid=t.data[s[i]].material_pid,e.schemeType=t.data[s[i]].task_type,e.pid=t.data[s[i]].pid,objPageAdElements[l][s[i]].adMaterial=e));f(d,n,c,l,m,p)}else f(d,s,c,l,m,p)},setTimeout(function(){u(o,t,function(){f(d,s,c,l,m,p)})},0)):f(d,s,c,l,m,p)},setTimeout(function(){u(n,e,function(){f(d,s,c,l,m,p)})},0)):f(d,s,c,l,m,p)},f=function(o,r,d,s,e,t){if(0!=e&&!function(e){for(var t in e)return!1;return!0}(o.precise)&&0<r.length&&null!=o.precise&&o.precise!=undefined){var n=r.join(","),c=l+"?channel_id="+s+"&uin="+e+"&appid="+I+"&pos_id="+n+"&_="+N,a=function(){var e,t;if(setTimeout(function(){H(c)},250),preciseData=h("RES_OBJ"+s),!1!==preciseData&&0==preciseData.errcode)for(var n=r.length,a=0;a<n;a++)preciseData.data[r[a]]==undefined?(d.push(r[a]),r.splice(a,1),a--,n--):(objPageAdElements[s][r[a]].adType="11",tmpBannerId=preciseData.data[r[a]].pos_id,t=preciseData.data[r[a]].items,(e=o.precise[tmpBannerId]&&t==o.precise[tmpBannerId].adId?o.precise[tmpBannerId]:e)==undefined?(d.push(r[a]),r.splice(a,1),a--,n--):(e.recommendId=preciseData.data[r[a]].recommend_id,e.algoType=preciseData.data[r[a]].algo_type,objPageAdElements[s][r[a]].adMaterial=e));else d=r;if(0<d.length)for(var i in d)isNaN(i)||(objPageAdElements[s][d[i]].adType="2",objPageAdElements[s][d[i]].adMaterial=o.common[d[i]]);m(s,Object.keys(objPageAdElements[s]))};setTimeout(function(){u(c,a,a)},0)}else{if(0<(d=r).length)for(var i in d)isNaN(i)||(objPageAdElements[s][d[i]].adType="2",objPageAdElements[s][d[i]].adMaterial=o.common[d[i]]);m(s,Object.keys(objPageAdElements[s]))}},m=function(e,t){if(objPageAdElements[e]!=undefined){var n,a,i,o,r,d,s,c,l,m,p,g,u,h,f,b,A,v,w,_,y,q,j,T,k,D,S,E=null,L=null;for(l in objAdElementMap[e])(E=objAdElementMap[e][l])!=undefined&&null!=E&&objPageAdElements[e][E.banner]!=undefined&&null!=objPageAdElements[e][E.banner]&&(E.adType=objPageAdElements[e][E.banner].adType,E.adMaterial=objPageAdElements[e][E.banner].adMaterial,L=E.element,n=E.adType,a=E.isRendered,i=E.adMaterial,isDynamicPos=E.isDynamicPos,i!=undefined?(function(e,t){var n,a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)))}(new Date,"yyyy-MM-dd hh:mm:ss"),u=y=g=p=m="",location.href,D=k=T=j=q=y=_=w=v=A=b=f=h="",(L.attributes[P]||L.attributes[x]||L.attributes[O])&&"1"!=a&&(isDynamicPos&&1==i.isBottom&&(S=L.parentNode).parentNode.removeChild(S),o=i.adUrl||"",r=i.imgUrl||"",d=i.Fname||i.adMemo||"",strDetail=i.adMemo||i.ad_memo||"",s=i.popWidth||"",c=i.popHeight||"",imgBeginTime=i.beginTime||"",imgEndTime=i.endTime||"",m=i.actionID||"",p=i.adId||"",g=t[l]||"",y=i.recommendId||"0",u=i.ecode||"",h=i.pid||"",f=i.setId||"",b=i.materialId||"",A=i.materialPid||"",v=i.taskId||"",w=i.taskPid||"",_=i.schemeType,y=i.recommendId||"",q=location.href,T=i.algo||"",j=i.adType||"",k=i.beginTime||"",D=i.endTime||"",L.id=p,L.onclick=z(_,e,u,g,y,T,j,w,f,A,"",q,k,D,h,v,b,o,N),"#"!=o&&""!=o?(L.target="_blank",L.href=o):L.href="javascript:;",L.innerHTML="<img src='"+r+"?_r="+N+"' alt="+d+" title= "+d+" data-detail='"+strDetail+"' data-starttime='"+imgBeginTime+"' data-endtime='"+imgEndTime+"' width="+s+" height="+c+" />",E.isRendered="1","0"==n||"10"==n||"11"==n?G("10"==n?B+"?uin="+J+"&pid="+h+"&appid="+I+"&channel=adrecommend&task_id="+v+"&material_id="+b+"&world_id=&table_type=1&msg="+(_+"|"+e+"|"+u+"|"+g+"|"+y+"|"+T+"|"+j+"|"+w+"|"+f+"|"+A+"||"+q+"|"+k+"|"+D)+"&t="+N:U+"?bid="+I+"&act_type=5&algo=4&uin="+J+"&recommend_id=0&t="+N+"&loc="+g+"&id="+p+"&act_id="+m+"&table_type=1&e_code="+u,function(){}):NewADsShowSwitch.doReport(J,g,m,1,"lol"))):isDynamicPos&&(S=L.parentNode).parentNode.removeChild(S));C++,H(F+e+".js?v="+N),$(M,C,R)}},z=function(s,e,t,n,c,l,m,p,g,u,h,f,b,A,v,w,_,a,y){return function(){var e=this.id,t="",n="",a=this.getAttribute&&this.getAttribute(P)||this.getAttribute(x);"string"==typeof a&&0<a.length&&2==a.split(",").length&&(2!=(d=a.split(",")).length||isNaN(d[0])||isNaN(d[1])||(t=d[0],n=d[1]));var i,o,r,a=+new Date,d=objPageAdElements[t][n];d&&(i=d.adType||"",o=d.adMaterial.actionID||"",r=d.adMaterial.ecode||"");d="";"0"==i||"10"==i||"11"==i?(d=U+"?bid="+I+"&act_type=5&algo=4&uin="+J+"&recommend_id=0&t="+a+"&loc="+n+"&id="+e+"&act_id="+o+"&table_type=2&e_code="+r,"10"==i&&(d=B+"?uin="+J+"&pid="+v+"&appid="+I+"&channel=adrecommend&task_id="+w+"&material_id="+_+"&world_id=&table_type=2&msg="+(s+"|"+t+"|"+r+"|"+n+"|"+c+"|"+l+"|"+m+"|"+p+"|"+g+"|"+u+"|"+h+"|"+f+"|"+b+"|"+A)+"&t="+y),G(d,function(){})):NewADsShowSwitch.doReport(J,n,o,2,"lol")}},$=function(e,t,n){var a,i;t<0||n<t?t==n+1&&window.gpmAdProcess!=undefined&&window.gpmAdProcess():(a=e[t],urlTmp=F+a+".js?v="+N,i=function(){jTmpData=h("gAds"+a),!1!==jTmpData&&function(e,t,n){if(null!=e&&"undefined"!=e&&null!=t&&"undefined"!=t){var a=Object.keys(objPageAdElements[e]);if(!(a.length<=0)){var i,o=t,r=[],d=[];for(i in a)isNaN(i)||(o.force[a[i]]!=undefined&&null!=o.force[a[i]]?(r.push(a[i]),objPageAdElements[e][a[i]].adType="0",objPageAdElements[e][a[i]].adMaterial=o.force[a[i]]):d.push(a[i]));s(o,d,[],e,n,function(){})}}}(a,jTmpData,J)},setTimeout(function(){u(urlTmp,i,function(){})},0))};return{run:function(){e=location.hostname.replace(".qq.com",""),I=e="game.open"==(e="pvp"==(e="codol"==(e="eafifa"==(e="5s"==(e="sm"==e?"smite":e)?"x52":e)?"fifa":e)?"codo":e)?"smoba":e)?"castleclash":e,J=n("openid")||(n("pt2gguin")?n("pt2gguin").substr(1).replace(/\b(0+)/gi,""):0),function(){for(var e,t,n,a=p.getElementsByTagName("*"),i=a.length,o={};i--;)"string"==typeof(t=(e=a[i]).getAttribute&&e.getAttribute(P)||e.getAttribute(x)||e.getAttribute(O))&&0<t.length&&2<=t.split(",").length&&2<=(n=t.split(",")).length&&!isNaN(n[0])&&!isNaN(n[1])&&((o={}).element=e,o.adType="2",o.isRendered="0",o.adMaterial=null,o.isDynamicPos=3==n.length&&1==n[2],o.channel=n[0],o.banner=n[1],objPageAdElements[n[0]]==undefined?(objPageAdElements[n[0]]={},objPageAdElements[n[0]][n[1]]=o,objAdElementMap[o.channel]=[]):objPageAdElements[n[0]][n[1]]=o,objAdElementMap[o.channel].push(o))}();var e=Object.keys(objPageAdElements);e.length<=0||(R=e.length-1,$(M=e,C,R))}}}(),AdsShowEngine.run()):(TGAdsShow=function(){var protocol=location.protocol,l=document,_r=+new Date,_s=2e3,t=null,nu=navigator.userAgent.toLowerCase(),ie=-1!=nu.indexOf("msie"),opera=-1!=nu.indexOf("opera"),strAttribute="data-TGAD",strAttributeTitle="title-TGAD",strAttributeSubTitle="data-subtitle",recLoad=!1,grey=!1,game,gpmObjJson,iUin,arrLength,gpmArrLength,arrLinks=[],gpmArrLinks=[],gpmUsedArr=[],gpmTmpArr=[],arrLoadLinks=[],showForceArr=[],ShowAdList=[],arrAdId=[],preview=document.getElementById("preview"),adJsPre=protocol+"//game.qq.com/time/qqadv/Info_new_",adSpecialJsPre=protocol+"//ossweb-img.qq.com/images/clientpop/ads/Info_new_",adImgPre=protocol+"//ossweb-img.qq.com/upload/adw/",sendClickUrl=protocol+"//apps.game.qq.com/adw_sendclick/api/send_click.php",gpmRecUrl=protocol+"//apps.game.qq.com/client_pop/daoju/api.php",gpmAdJsPre=protocol+"//ossweb-img.qq.com/images/clientpop/adrecommend/adrecommend_",LogCgi=protocol+"//logs.game.qq.com/easnew/go/eas.php",gpmSendClickUrl=protocol+"//apps.game.qq.com/client_pop/recommendReport",sb=[3513,3514,3515,3516,3517,5082,5083,5084,11514,11515,755,756,757,758,759,3199,7151,10456,10457,14016],s,env,sendClickUrl;function attach(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n)}function getUin(){return gCookie("pt2gguin")?gCookie("pt2gguin").substr(1).replace(/\b(0+)/gi,""):0}function gCookie(e){var e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=l.cookie.match(e))?unescape(e[2]):""}function getGame(){var e=location.hostname.replace(".qq.com","");return e="eafifa"==(e="5s"==(e="sm"==e?"smite":e)?"x52":e)?"fifa":e}function loadJson(e,t,n){var a=l.createElement("script"),i=(l.getElementsByTagName("head")[0],bFn2=!0),o=l.getElementsByTagName("script"),r=o.length,d=!1;for(null!=t&&void 0!==t||(i=!1),null!=n&&void 0!==n||(bFn2=!1),a.src=e,a.onloadDone=!1,ie?(attach(a,"readystatechange",function(e){"loaded"!==a.readyState&&"complete"!==a.readyState||a.onloadDone||(a.onloadDone=!0,i&&t(),a.onreadystatechange=null)}),"loaded"===a.readyState&&null==a.nextSibling&&bFn2&&n()):(a.onload=function(){a.onloadDone=!0,i&&t(),a.onload=null},a.onerror=function(){bFn2&&n(),a.onerror=null});r--;)if(o[r].src===e){t(),d=!0;break}d||l.documentElement.firstChild.insertBefore(a,null)}function loadRecData(e){var t,n,a,i=iUin,o=game,r=[];for(t in showForceArr)gpmObjJson.banner&&delete gpmObjJson.banner[showForceArr[t]];for(a in arrLinks)arrLinks[a].a&&(n=arrLinks[a].a.split(","),arrAdId.push(n[1]));for(a in gpmObjJson.banner)inarr(arrAdId,a)&&r.push(a);var d,s,c=r.join(",");c?(d=gpmRecUrl+"?sence=1&start=1&end=10&uin="+i+"&pdName="+o+"&pos_id="+c+"&t="+_r,s=function(){setTimeout(function(){removeScript(d)},250),showGpmADs(e)},setTimeout(function(){loadJson(d,s,s)},0)):loadADs(0)}function inarr(e,t){var n=String.fromCharCode(2);return new RegExp(n+t+n).test(n+e.join(n)+n)}function loadGpmADs(){var e=gpmArrLinks[0].a.split(",");e[0],e[1];loadADs(0)}function loadADs(e){var t,n,a,i,o,r,d=e;d<arrLength&&(e=arrLinks[d],t=e.o,e=e.a.split(","),n=e[0],a=e[1],i=!1,isNaN(n)||isNaN(a)||(o=inarr(sb,a)?adSpecialJsPre+n+".js?v="+_r:adJsPre+n+".js?v="+_r,r=function(){arrLoadLinks[n]=1,i=!0,setTimeout(function(){removeScript(o)},250),show(t,n,a,d)},1==arrLoadLinks[n]?show(t,n,a,d):setTimeout(function(){loadJson(o,function(){i||r()},function(){i||r()})},0),opera&&setTimeout(function(){i||r()},250)))}function showForceADs(e){try{gpmObjJson=new Function("return gDaTaNew"+e)()}catch(m){return void loadADs(0)}if(gpmObjJson.force){var t=gpmSendClickUrl+"?bid="+game+"&act_type=5&algo=4&uin="+iUin+"&recommend_id=0&t="+_r;for(n in gpmArrLinks)if(gpmArrLinks[n].a){var n,a=gpmArrLinks[n].o,i=gpmArrLinks[n].a.split(",")[1];for(n in gpmObjJson.force)if(n==i){for(var o=gpmObjJson.force[n].length,r=0;r<o;r++)compTime(gpmObjJson.force[n][r].beginTime,gpmObjJson.force[n][r].endTime,1)||(gpmObjJson.force[n].splice(r,1),r--,o--);if(0<(o=gpmObjJson.force[n].length)){var d=0;1<o&&(d=randNum(0,o-1)),showForceArr.push(i);for(var s=gpmObjJson.force[n][d],c=e+","+i,d=s.iAdId,r=0,l=0;r<arrLinks.length;r++)arrLinks[r].a!=c&&(arrLinks[l++]=arrLinks[r]);--arrLinks.length,a.attributes[strAttribute]&&(a.id=d,showHtml(a,s,1,t))}}}}gpmArrLength=arrLength=(gpmArrLinks=arrLinks).length,loadRecData(e)}function showHtml(e,t,n,a){var i,o;1==n?(i=getPosId(e),o=getForceActId(e),getForceEcodeId(e)):(i=getPosId(e),o=getActId(e.id),getEcodeId(e.id)),e.onclick=function(){this.id;NewADsShowSwitch.doReport("",i,o,2,"lol")},e.target="_blank",e.href=t.adUrl,e.innerHTML="<img src='"+t.imgUrl+"?_r="+_r+"' alt="+t.Fname+" title= "+t.Fname+" data-detail='"+t.ad_memo+"' width="+t.popWidth+" height="+t.popHeight+" />";e.id,t.actionID,t.ecode;NewADsShowSwitch.doReport("",i,e.id,1,"lol")}function showGpmADs(e){try{gpmRecJson=new Function("return RES_OBJ")(),0==gpmRecJson.errcode&&(recLoad=!0)}catch(b){recLoad=!1}if(recLoad){if(!gpmRecJson.data)return void loadADs(0);if(!gpmRecJson.data.props)return void loadADs(0);for(var t=gpmRecJson.data.recommend_id,n=gpmRecJson.data.algo_type,a=gpmSendClickUrl+"?bid="+game+"&act_type=5&algo="+n+"&uin="+iUin+"&recommend_id="+t+"&t="+_r,i=0;i<gpmArrLinks.length;i++){var o=gpmArrLinks[i].o,r=gpmArrLinks[i].a.split(",")[1];for(h in gpmRecJson.data.props){var d=gpmRecJson.data.props[h].pos_id,s=gpmRecJson.data.props[h].items;r==d&&gpmObjJson.iAdId&&gpmObjJson.iAdId[s]&&compTime(gpmObjJson.iAdId[s].beginTime,gpmObjJson.iAdId[s].endTime)&&(u=gpmObjJson.iAdId[s],gpmTmpArr.push(f=e+","+d),o.attributes[strAttribute]&&(o.id=s,showHtml(o,u,0,a)))}}}else{if(!gpmObjJson.banner)return void loadADs(0);a=gpmSendClickUrl+"?bid="+game+"&act_type=5&algo=0&uin="+iUin+"&recommend_id=0&t="+_r;if(gpmObjJson.adsize)for(var c in gpmObjJson.adsize)for(i=0;i<gpmObjJson.adsize[c].length;i++)compTime(gpmObjJson.adsize[c][i].beginTime,gpmObjJson.adsize[c][i].endTime)||gpmObjJson.adsize[c].splice(i,1);for(h in gpmArrLinks){var l,m,p,g,u,o=gpmArrLinks[h].o,r=gpmArrLinks[h].a.split(",")[1];gpmObjJson.banner[r]&&(d=(p=gpmObjJson.banner[r]).banner_id,l=p.banner_width+"*"+p.banner_height,gpmObjJson.adsize&&gpmObjJson.adsize[l]&&(g=!1,m=gpmObjJson.adsize[l],gpmUsedArr[l]?m[p=gpmUsedArr[l]]&&(g=!0,u=m[p],gpmUsedArr[l]=p+1):m[0]&&(g=!0,u=m[0],gpmUsedArr[l]=1),g&&compTime(u.beginTime,u.endTime)&&(s=u.iAdId,gpmTmpArr.push(f=e+","+d),o.attributes[strAttribute]&&(o.id=s,showHtml(o,u,0,a)))))}}for(var h in gpmTmpArr)for(var f=gpmTmpArr[h],i=0;i<arrLinks.length;i++)arrLinks[i].a==f&&arrLinks.splice(i,1);arrLength=arrLinks.length,loadADs(0)}function show(o,a,b,c){var d=o,_c=c,objJson=null,strTitle=null,strSubTitle,k;try{objJson=new Function("return oDaTaNew"+a)()}catch(e){objJson=inarr(sb,b)?eval("oDaTaNew"+a+'={"pos'+b+'":["Json Error!!","'+adSpecialJsPre+a+'.js","ad-loading.gif","50","50"]}'):eval("oDaTaNew"+a+'={"pos'+b+'":["Json Error!!","'+adJsPre+a+'.js","ad-loading.gif","50","50"]}')}for(k in objJson)if(b==k.toString().substring(3)){var f=eval("oDaTaNew"+a+"."+k),strHref=f[1],strlistdate=f[8],tas_code=fn.getUrlVar(f[1],"tas_code"),pgv,ad_id,reportUrl,imgPath,imgPath,act_id,e_code,jsUrl,ShowAdInfo;try{strTitle=decodeURI(f[0]),strSubTitle=decodeURI(f[9])}catch(err){strTitle=f[0],strSubTitle=f[9]}null!=tas_code&&tas_code!=undefined||(tas_code=fn.getUrlVar(strHref,"e_code"),null!=tas_code&&tas_code!=undefined||(tas_code=0)),d.attributes[strAttribute]?f&&(pgv="ad."+a+"."+b,ad_id=strlistdate,reportUrl=gpmSendClickUrl+"?bid="+game+"&act_type=5&algo=4&uin="+iUin+"&recommend_id=0&t="+_r,strlistdate&&(pgv=pgv+"."+strlistdate),d.onclick=function(){var e,t;inarr(sb,b)?(e=f[10],t=f[11]):(encodeURIComponent(this.href),(new Date).getTime()),NewADsShowSwitch.doReport("",b,e,2,"lol")},d.target="_blank",d.href=strHref,imgPath=inarr(sb,b)?f[2]:adImgPre+f[2],d.innerHTML="<img  src='"+imgPath+"' alt="+strTitle+" title="+strTitle+" data-detail='"+strSubTitle+"'  width="+f[3]+" height="+f[4]+" />",d.removeAttribute(strAttribute),inarr(sb,b)?(act_id=f[10],e_code=f[11],jsUrl=reportUrl+"&loc="+b+"&id="+ad_id+"&act_id="+act_id+"&table_type=1&e_code="+e_code,NewADsShowSwitch.doReport("",b,act_id,1,"lol")):(ShowAdInfo=a+"."+b+"."+f[8]+"."+tas_code,ShowAdList.push(ShowAdInfo))):d.attributes[strAttributeTitle]?(d.innerHTML=strTitle,"A"==d.nodeName&&(d.href=strHref),d.removeAttribute(strAttributeTitle)):d.attributes[strAttributeSubTitle]&&(d.innerHTML=strSubTitle,d.removeAttribute(strAttributeSubTitle))}if(_c++,_c==arrLength){if(0<ShowAdList.length)for(var ShowAdStr=ShowAdList.join("|"),ShowUrl=LogCgi+"?m=SendLog&show_ads="+ShowAdStr+"&click_type=1&t="+(new Date).getTime(),i=0;i<ShowAdList.length;i++)NewADsShowSwitch.doReport("",ShowAdList[i].split(".")[1],ShowAdList[i].split(".")[2],1,"lol");window.gpmAdProcess!=undefined&&window.gpmAdProcess()}loadADs(_c)}function removeScript(e){for(var t,n=l.getElementsByTagName("script"),a=n.length,i=null;a--;)(i=n[a]).src!=e||(t=i.parentNode)&&1===t.nodeType&&t.removeChild(i)}function compTime(e,t,n){var a=(new Date).getTime();return e=new Date(e.replace(/-/g,"/")).getTime(),t=new Date(t.replace(/-/g,"/")).getTime(),0<=(a-e)/3600/1e3&&(!(0<(a-t)/3600/1e3)||1!=n&&0<(t-(a-12096e5))/3600/1e3)}function getParameter(e,t){t=e.match(new RegExp("[?&]"+t+"=([^&]*)(&?)","i"));if(t?t[1]:null==t)return t&&t[1]}function randNum(e,t){var n=t-e,t=Math.random();return e+Math.round(t*n)}function getActId(e){return gpmObjJson.iAdId[e].actionID||0}function getEcodeId(e){return gpmObjJson.iAdId[e].ecode||0}function getForceActId(e){var t=(e.getAttribute&&e.getAttribute(strAttribute)).split(",")[1];if(gpmObjJson.force[t]){var n=0;if(1<gpmObjJson.force[t].length)for(var a in gpmObjJson.force[t])gpmObjJson.force[t][a].iAdId==e.id&&(n=a);return gpmObjJson.force[t][n].actionID}return 0}function getForceEcodeId(e){var t=(e.getAttribute&&e.getAttribute(strAttribute)).split(",")[1];if(gpmObjJson.force[t]){var n=0;if(1<gpmObjJson.force[t].length)for(var a in gpmObjJson.force[t])gpmObjJson.force[t][a].iAdId==e.id&&(n=a);return gpmObjJson.force[t][n].ecode}return 0}function getPosId(e){return(e.getAttribute&&e.getAttribute(strAttribute)).split(",")[1]}function inUinList(e){if(grey){var t=["08","12"];if(0<t.length){var n,e=e.split(""),a=e[e.length-2]+""+e[e.length-1];for(n in t)if(t[n]==a)return 1;return}return 1}return 1}function loadPreAd(){var e=location.pathname;""!=e&&"/"!=e&&"/index.html"!=e&&"/index.htm"!=e&&"/index.shtml"!=e||fn.loadjs(protocol+"//ossweb-img.qq.com/images/clientpop/js/predialog.js")}return null!=preview&&(s=document.getElementById("preview").src,env=getParameter(s,"env"),sendClickUrl="DevelopEcho"==env?(adJsPre=protocol+"//echoweb.qq.com/data/ad/js/qqadv/Info_new_",adImgPre=protocol+"//echoweb.qq.com/data/ad/img/",protocol+"//echoweb.qq.com/apps/adw_sendclick/api/send_click.php"):(adImgPre="Develop"==env?(adJsPre=protocol+"//game.qq.com/time/qqadv_develop/Info_new_",protocol+"//ossweb-img.qq.com/upload/adw_develop/"):"Beta"==env?(adJsPre=protocol+"//game.qq.com/time/qqadv_beta/Info_new_",protocol+"//ossweb-img.qq.com/upload/adw_beta/"):(adJsPre=protocol+"//game.qq.com/time/qqadv/Info_new_",protocol+"//ossweb-img.qq.com/upload/adw/"),protocol+"//apps.game.qq.com/adw_sendclick/api/send_click.php")),fn={getUrlVars:function(e){for(var t,n=[],a=e.slice(e.indexOf("?")+1).split("&"),i=0;i<a.length;i++)t=a[i].split("="),n.push(t[0]),n[t[0]]=t[1];return n},getUrlVar:function(e,t){return fn.getUrlVars(e)[t]},loadjs:function(e,t,n){var a=document.createElement("script");a.type="text/javascript",n&&a.setAttribute("charset",n),a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||((a.onreadystatechange=null)==t&&void 0===t||t(),document.getElementsByTagName("head")[0].removeChild(this))}:a.onload=function(){null==t&&void 0===t||t(),document.getElementsByTagName("head")[0].removeChild(this)},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}},{init:function(e){"object"==typeof e||l.getElementById(e);for(var t,n,a=l.getElementsByTagName("*"),i=a.length,o=0;i--;)"string"==typeof(n=(t=a[i]).getAttribute&&t.getAttribute(strAttribute)||t.getAttribute(strAttributeTitle)||t.getAttribute(strAttributeSubTitle))&&0<n.length&&2==n.split(",").length&&(gpmArrLinks[o]=arrLinks[o]={},gpmArrLinks[o].o=arrLinks[o].o=t,gpmArrLinks[o].a=arrLinks[o].a=n,o++);gpmArrLength=arrLength=arrLinks.length,0<arrLength&&(iUin=getUin(),game=getGame(),inUinList(iUin)&&!NewADsShowSwitch.isGrayServiceFunc()?loadGpmADs():loadADs(0))}}}(),TGAdsShow.init()),function(){var t=function(){this.onRenderFinished=null,this.protocol=location.protocol,this.commonLogCgi=this.protocol+"//logs.game.qq.com/easnew/go/eas.php",this.idataAdJsPre=this.protocol+"//ossweb-img.qq.com/images/clientpop/idata_ad/idata_ad_",this.jsDataValPre="gAds",this.NewADsShow_Middle_Cxt={tplElList:[],loadJSCache:{},cleanedAdMap:null,vnodeParent:{},displayedRpt:{},nodeForClean:[]},this.hGet=function(e,t,n){var a,i=this;n&&1==n?this.NewADsShow_Middle_Cxt[e]&&t():((a=document.createElement("script")).type="text/javascript",a.setAttribute("charset","UTF-8"),a.src=e,a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,n&&1==n&&(i.NewADsShow_Middle_Cxt[e]=!0),t())}:a.onload=function(){n&&1==n&&(i.NewADsShow_Middle_Cxt[e]=!0),t()},document.getElementsByTagName("head")[0].appendChild(a))},this.gJsonData=function(e){try{return new Function("return "+e)()}catch(t){return!1}},this.gAllAdElems=function(){for(var e,t,n=document.getElementsByTagName("script"),a=n.length,i=0;i<a;i++)"text/html"==(t=n[i]).type&&t.getAttribute("data-channels")&&(e="t-idata-tmp-id"+i,t.tParentNode=t.parentNode,t.setAttribute("id",e),this.NewADsShow_Middle_Cxt.nodeForClean.push(e),this.NewADsShow_Middle_Cxt.tplElList.push(t))},this.multiLoadScript=function(t,n,e){t.length;var a={},i=this,o=+new Date,r=t.pop(),d=function(){var e=i.idataAdJsPre+r+".js?d="+o;i.hGet(e,function(){a[r]=i.gJsonData(i.jsDataValPre+r),0<t.length&&(r=t.pop())?d():n(a)})};d()},this.renderTpls=function(){if(!(this.NewADsShow_Middle_Cxt.tplElList.length<1)){for(var e={},t=0;t<this.NewADsShow_Middle_Cxt.tplElList.length;t++){var n=this.NewADsShow_Middle_Cxt.tplElList[t].getAttribute("data-channels").match(/(\d+):(\d+)/g);if("object"==typeof n)for(var a=0;a<n.length;a++)e[n[a].split(":")[0]]=!0}var i=[];for(k in e)i.push(k);var l=this;this.multiLoadScript(i,function(e){var t={};for(k in e){var n=e[k].common;for(k1 in n)t[k+":"+k1]=n[k1];var a=e[k].force;for(k1 in a)t[k+":"+k1]=a[k1]}l.NewADsShow_Middle_Cxt.cleanedAdMap=t;for(var i=0;i<l.NewADsShow_Middle_Cxt.tplElList.length;i++){var o=l.NewADsShow_Middle_Cxt.tplElList[i],r=o.getAttribute("data-channels").match(/(\d+):(\d+)/g);if("object"==typeof r){var d=l.fetchDataList(r,t);for(k in l.tgaTplEngine(o,d),d.tgaADList){var s,c=d.tgaADList[k];c.adId!=undefined&&(l.NewADsShow_Middle_Cxt.displayedRpt[c.adId]||2==(s=c.fromChan.split(":")).length&&(l.NewADsShow_Middle_Cxt.displayedRpt[c.adId]=!0,l.simpleLogReport(c,s[0],s[1],1)))}}}l.isFunction(l.onRenderFinished)&&l.onRenderFinished()},function(e){})}},this.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},this.fetchDataList=function(e,t){var n=[];for(k in e){var a=e[k];t[a]&&(t[a].fromChan=a,n.push(t[a]))}return{tgaADList:n}},this.clickEventHandler=function(e){var t=e.target||e.srcElement,n=t.getAttribute("t-chan"),e=(n+="").match(/(\d+)\:(\d+)/i);null!=e&&3==e.length&&(t=e[1],n=e[2],(e=this.NewADsShow_Middle_Cxt.cleanedAdMap[e[0]])&&this.simpleLogReport(e,t,n,2))},this.loopDepth=0,this.json2Str=function(e){this.loopDepth++;var t=typeof e;if("number"==t||"boolean"==t)return e;if("string"==t)return'"'+e+'"';var n=[],t="";try{for(k in e)n.push(k+":"+this.json2Str(e[k]));return t+="{"+n.join(",")+"}"}catch(a){return""}},this.jsonStringify=function(e){var t="[";if(!e.length)return"[]";for(var n=[],a=null,i=0;i<e.length;i++){var o=[];for(k in a=e[i])o.push('"'+k+'":'+this.json2Str(a[k]));n.push("{"+o.join(",")+"}")}return t+=n.join(","),t+="]"},this.tgaTplEngine=function(e,t){var n="",a=e.getAttribute("t-list"),i=e.getAttribute("t-foreach");if(a&&i)alert("t-list与t-foreach 不能同时存在");else{for(var o in a&&(t[a]=t.tgaADList),n+="//template tgadshow.js?v3\n",n="\n\n",n+="var seg=[];\n",t){var r=typeof t[o],d="_"+o;n+="object"==r||"number"==r?"var "+d+" = "+this.jsonStringify(t[o])+";\n":"var "+d+" ='"+t[o]+"';\n"}i&&!a&&(n+="for( k in _tgaADList){\n",n+="var _"+i+" = _tgaADList[k];\n",n+="var __index = k;\n");for(var s=/<%([^%]+)?%>/g,c=(p=e.innerHTML,0),l=/(^( )?([\++]|.+=.+|console|do|case|let|var|if|for|else|switch|case|break|continue|default|return|try|typeof|throw|goto|eval|{|}))(.*)?/,m=null,p=p.replace(/t-watch=['|"][1-9a-zA-Z]+['|"]/gi," t-chan='<%_"+i+".fromChan%>' t-adid='<%_"+i+".adId%>' "),m=function(e,t){return t?n+=e.match(l)?e+"\n":"seg.push("+e+");\n":/^\s+$/.test(e)||(n+='seg.push("'+e.replace(/"/g,'\\"').replace(/[\r\t\n]/g,"")+'");\n'),m};res=s.exec(p);)m(p.slice(c,res.index))(res[1],1),c=res.index+res[0].length;m(p.substr(c,p.length)),i&&!a&&(n+="}\n"),n+='return seg.join("");\n';var g,u=new Function(n).apply(),h=this,f=function(e){h.clickEventHandler(e)},a=e.getAttribute("t-cb");try{var b,A=e.getAttribute("id");null!=A&&(b=document.getElementById(A)).parentElement.removeChild(b)}catch(v){}a&&0<a.length&&(n=a+"\n"),i?(null==(g=e.tParentNode).getAttribute("t-clicked")&&(g.addEventListener?g.addEventListener("click",f,!0):g.attachEvent?g.attachEvent("onclick",f):g.onclick=f,g.setAttribute("t-clicked",!0)),g.innerHTML+=u):((g=document.createElement("div")).setAttribute("idata-rendered","1"),g.innerHTML+=u,e.parentNode.replaceChild(g,e)),new Function(n).apply()}},this.simpleLogReport=function(e,t,n,a){var i=(i=2)&&a,o=e.adId,r=e.adId,d=e.actionID,s=e.ecode,c=t+"."+n+"."+o+"."+s,l=e.type,m=window.location.href,p=e.beginTime,g=e.endTime,a="",t=(new Date).getTime();"0"==l||"10"==l||"11"==l?(forceLogCgi,gameId,uin,"10"==l&&(a="|"+chanId+"|"+s+"|"+n+"||||||||"+m+"|"+p+"|"+g,multiChannelLogReportPre,uin,pid,gameId,taskId,materialId)):(e=e.adUrl,this.commonLogCgi,encodeURIComponent(e));try{NewADsShowSwitch.doReport("",n,d,i,"lol")}catch(u){}},this.Run=function(){this.gAllAdElems(),this.renderTpls()}};try{var e=function(){var e=new t;window.tgADTplParserFinished&&(e.onRenderFinished=window.tgADTplParserFinished),e.Run()};window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):window.onload=e,window.iData_New_Tplparser={run:e}}catch(n){}}();